name: 'Editor Config format check'

on:
  pull_request:

defaults:
  run:
    shell: bash
    working-directory: prototype

permissions:
  contents: read

jobs:
  validate:
    name: Validate Editor Config formatting
    runs-on: 'ubuntu-latest'
    steps:
    - name: Git Checkout
      uses: actions/checkout@v3
      with:
        fetch-depth: ${{ github.event.pull_request.commits }}
    - name: Fix up ownership
      run: git config --global --add safe.directory /github/workspace
    - name: Editor Config Validation
      uses: timothyjward/EditorConfig-Action@subdirectory
      env:
        ALWAYS_LINT_ALL_FILES: "false"
        REPOSITORY_PATH: "prototype"
